---
title: Checklist: Setting Up a Federation Server
ms.custom: 
  - AD
ms.prod: windows-server-2012
ms.reviewer: na
ms.suite: na
ms.technology: 
  - techgroup-identity
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 5261a943-3fbe-47e3-a13f-9a70ae84ef3e
author: billmath
---
# Checklist: Setting Up a Federation Server
This checklist includes the deployment tasks that are necessary to prepare a server running [!INCLUDE[win8_server_1](../Token/win8_server_1_md.md)] for the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] role in [!INCLUDE[firstref_adfs2](../Token/firstref_adfs2_md.md)].  
  
> [!NOTE]  
> Complete the tasks in this checklist in order. When a reference link takes you to a procedure, return to this topic after you complete the steps in that procedure so that you can proceed with the remaining tasks in this checklist.  
  
![](../Image/2b05dce3-938f-4168-9b8f-1f4398cbdb9b.gif)**Checklist: Setting up a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]**  
  
||Task|Reference|  
|-|--------|-------------|  
|![](../Image/icon_checkboxo.gif)|Before you begin deploying your AD FS federation servers, review the; 1.\) advantages and disadvantages of choosing either Windows Internal Database \(WID\) or SQL Server to store the AD FS configuration database 2.\) AD FS deployment topology types and their associated server placement and network layout recommendations.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Determine Your AD FS Deployment Topology](../Topic/Determine-Your-AD-FS-Deployment-Topology.md)<br /><br />![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[AD FS Deployment Topology Considerations](../Topic/AD-FS-Deployment-Topology-Considerations.md)|  
|![](../Image/icon_checkboxo.gif)|Review AD FS capacity planning guidance to determine the proper number of federation servers you should use in your production environment.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Planning for Federation Server Capacity](../Topic/Planning-for-Federation-Server-Capacity.md)|  
|![](../Image/icon_checkboxo.gif)|Review information in the [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] Design Guide about where to place [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s in your organization|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Planning Federation Server Placement](../Topic/Planning-Federation-Server-Placement.md)<br /><br />![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Where to Place a Federation Server](../Topic/Where-to-Place-a-Federation-Server.md)|  
|![](../Image/icon_checkboxo.gif)|Determine whether a stand\-alone [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] or a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] farm is better for your deployment.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[When to Create a Federation Server](../Topic/When-to-Create-a-Federation-Server.md)<br /><br />![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[When to Create a Federation Server Farm](../Topic/When-to-Create-a-Federation-Server-Farm.md)|  
|![](../Image/icon_checkboxo.gif)|Determine whether this new [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] will be created in the account partner organization or in the resource partner organization.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Review the Role of the Federation Server in the Account Partner](../Topic/Review-the-Role-of-the-Federation-Server-in-the-Account-Partner.md)<br /><br />![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Review the Role of the Federation Server in the Resource Partner](../Topic/Review-the-Role-of-the-Federation-Server-in-the-Resource-Partner.md)|  
|![](../Image/icon_checkboxo.gif)|Review information about how [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s use service communication certificates and token\-signing certificates to securely authenticate client and [!INCLUDE[adfs2_fsp](../Token/adfs2_fsp_md.md)] requests. **Caution:** Though it has long been common practice to use certificates with unqualified host names such as https:\/\/myserver, these certificates have no security value and can enable an attacker to impersonate the AD FS Federation Service to enterprise clients. Therefore, it is recommended that you use a fully qualified domain name \(FQDN\) such as https:\/\/myserver.contoso.com and only use SSL certificates issued to the FQDN of your Federation Service.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Certificate Requirements for Federation Servers](../Topic/Certificate-Requirements-for-Federation-Servers.md)|  
|![](../Image/icon_checkboxo.gif)|Review information about how to update the corporate network Domain Name System \(DNS\) so that successful name resolution to [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s can occur.|![](../Image/faa393df-4856-4431-9eda-4f4e5be72a90.gif)[Name Resolution Requirements for Federation Servers](../Topic/Name-Resolution-Requirements-for-Federation-Servers.md)|  
|![](../Image/icon_checkboxo.gif)|Join the computer that will become the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] to a domain in the account partner forest or resource partner forest where it will be used to authenticate the users of that forest or from trusting forests. **Note:** If you want to set up a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the account partner organization, the computer must first be joined to any domain in the forest where your [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] will be used to authenticate users from that forest or from trusting forests.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Join a Computer to a Domain](../Topic/Join-a-Computer-to-a-Domain.md)|  
|![](../Image/icon_checkboxo.gif)|Create a new resource record in the corporate network DNS that points the DNS host name of the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] to the IP address of the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)].|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Add a Host &#40;A&#41; Resource Record to Corporate DNS for a Federation Server](../Topic/Add-a-Host--A--Resource-Record-to-Corporate-DNS-for-a-Federation-Server.md)|  
|![](../Image/icon_checkboxo.gif)|\(Optional\) If you will be adding a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] to a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] farm, you might have to first export the private key of the existing token\-signing certificate \(on the first [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the farm\) so that you have a file format of the certificate ready when other [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s must import the same certificate.<br /><br />Exporting the private key is not required when your issued server authentication certificate can be reused by multiple computers \(without the need to export\) or when you will be obtaining unique server authentication certificates for each [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the farm. **Note:** The [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] Management snap\-in refers to server authentication certificates for [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s as service communication certificates.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Export the Private Key Portion of a Server Authentication Certificate](../Topic/Export-the-Private-Key-Portion-of-a-Server-Authentication-Certificate.md)|  
|![](../Image/icon_checkboxo.gif)|After you obtain a server authentication certificate \(or private key\) from a certification authority \(CA\), you must then import the certificate file to the default Web site for each [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]. **Note:** Installing this certificate on the default Web site is a requirement before you can use the [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] Federation Server Configuration Wizard.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Import a Server Authentication Certificate to the Default Web Site](../Topic/Import-a-Server-Authentication-Certificate-to-the-Default-Web-Site.md)|  
|![](../Image/icon_checkboxo.gif)|\(Optional\) As an alternative to obtaining a server authentication certificate from a CA, you can use Internet Information Services \(IIS\) to create a sample certificate for your [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]. **Caution:** It is not a security best practice to deploy a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in a production environment by using a self\-signed server authentication certificate.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[IIS: Create a Self\-Signed Server Certificate](http://go.microsoft.com/fwlink/?LinkID=108271) and then complete the procedure [Import a Server Authentication Certificate to the Default Web Site](../Topic/Import-a-Server-Authentication-Certificate-to-the-Default-Web-Site.md)|  
|![](../Image/icon_checkboxo.gif)|If you will be configuring a [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] farm environment in an account partner organization, you must create and configure a dedicated service account in Active Directory Domain Services \(AD DS\) where the farm will reside and configure each [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the farm to use this account. By performing this procedure, you will allow clients on the corporate network to authenticate to any of the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)]s in the farm using Windows Integrated Authentication.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Manually Configure a Service Account for a Federation Server Farm](../Topic/Manually-Configure-a-Service-Account-for-a-Federation-Server-Farm.md)|  
|![](../Image/icon_checkboxo.gif)|Install the Federation Service role service on the computer that will become the federation server.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Install the Federation Service Role Service](../Topic/Install-the-Federation-Service-Role-Service.md)|  
|![](../Image/icon_checkboxo.gif)|Configure the [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] software on the computer to act in the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] role by using the [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] Federation Server Configuration Wizard.<br /><br />Follow this procedure when you want to set up a stand\-alone [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)], create the first [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in a new farm or join a computer to an existing [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] farm. **Note:** For the Federated Web Single Sign\-On \(SSO\) design, you must have at least one [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the account partner organization and at least one [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in the resource partner organization.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Create a Stand-Alone Federation Server](../Topic/Create-a-Stand-Alone-Federation-Server.md)<br /><br />![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Create the First Federation Server in a Federation Server Farm](../Topic/Create-the-First-Federation-Server-in-a-Federation-Server-Farm.md)<br /><br />![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Add a Federation Server to a Federation Server Farm](../Topic/Add-a-Federation-Server-to-a-Federation-Server-Farm.md)|  
|![](../Image/icon_checkboxo.gif)|\(Optional\) Use the [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] Management snap\-in to add and configure the necessary [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] certificates required to deploy your design. For more information about when to add or change certificates using the snap\-in, see [Certificate Requirements for Federation Servers](../Topic/Certificate-Requirements-for-Federation-Servers.md).|![](../Image/bc6cea1a-1c6c-4124-8c8f-1df5adfe8c88.gif)[Add a Token-Signing Certificate](../Topic/Add-a-Token-Signing-Certificate.md)<br /><br />![](../Image/bc6cea1a-1c6c-4124-8c8f-1df5adfe8c88.gif)[Add a Token-Decrypting Certificate](../Topic/Add-a-Token-Decrypting-Certificate.md)<br /><br />![](../Image/bc6cea1a-1c6c-4124-8c8f-1df5adfe8c88.gif)[Set a Service Communications Certificate](../Topic/Set-a-Service-Communications-Certificate.md)|  
|![](../Image/icon_checkboxo.gif)|If this is the first [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] in your organization, configure the Federation Service so that it conforms to your [!INCLUDE[nextref_adfs2](../Token/nextref_adfs2_md.md)] design.|![](../Image/bc6cea1a-1c6c-4124-8c8f-1df5adfe8c88.gif)[Checklist: Configuring the Account Partner Organization](../Topic/Checklist--Configuring-the-Account-Partner-Organization.md)<br /><br />![](../Image/bc6cea1a-1c6c-4124-8c8f-1df5adfe8c88.gif)[Checklist: Configuring the Resource Partner Organization](../Topic/Checklist--Configuring-the-Resource-Partner-Organization.md)|  
|![](../Image/icon_checkboxo.gif)|From a client computer, verify that the [!INCLUDE[adfs2_fs](../Token/adfs2_fs_md.md)] is operational.|![](../Image/15dd35b6-6cc6-421f-93f8-7109920e7144.gif)[Verify That a Federation Server Is Operational_1](../Topic/Verify-That-a-Federation-Server-Is-Operational_1.md)|  
  

---
title: Appendix A: Command-Line Syntax for the Rendom Tool
ms.custom: na
ms.reviewer: na
ms.suite: na
ms.tgt_pltfrm: na
ms.assetid: 5e032ebe-0b63-4c0c-aeec-c16a9cd5c588
author: Femila
---
# Appendix A: Command-Line Syntax for the Rendom Tool
  The Rendom command\-line tool collects forest\-wide information, monitors domain rename status, and performs the actions that are necessary to complete a domain rename operation in your forest.  
  
 **Syntax**  
  
```  
rendom [/?] [/dc:{DCNAME | DOMAIN}]  
[/user:USERNAME] [/pwd:{PASSWORD|*}]  
[/list] [/upload] [/prepare] [/execute] [/end] [/clean]   
[/showforest] [/listfile:LISTFILE] [/statefile:STATEFILE]   
[/logfile:LOGFILE]  
```  
  
|Parameter|Description|  
|---------------|-----------------|  
|\/?|Optional. Displays the Help and the version number of the tool.|  
|\/dc:{DCNAME &#124; DOMAIN}|Optional. Specifies that the command connect to a specific domain controller, indicated by **DCNAME** \(a Domain Name System \(DNS\) name or a NetBIOS name\), to run the operation that is specified by one of the operation switches: **\/list**, **\/upload**, **\/prepare**, **\/execute**, or **\/clean**. If the name of a domain is specified instead as **DOMAIN**, the command connects to a domain controller in that domain. Default: When this switch is not specified, connects to any domain controller in the domain to which the computer on which this command is being run belongs.<br /><br /> If this command is run on a computer that is not a member of any domain, the **\/dc** switch is required; otherwise, an error is returned.|  
|\/user:USERNAME|Optional. Requests that the command run in the security context of a specific user, indicated by **USERNAME**, that is different from the logged on user. **USERNAME** can currently be in only one form: *domain*\\*user*, for example, **ntdev\\jdow**.|  
|\/pwd:{PASSWORD &#124; \*}|Optional. Specifies the password for the alternate security context indicated by USERNAME. If the value that is specified for this switch is **\***, the command prompts for the password to allow hiding of the password.|  
|\/list|This operation creates a list of the directory partitions in the forest. The list is written as text to a file using an XML format. Therefore, this command creates a textual description of the forest structure using a structured XML format.<br /><br /> If a file name is specified with the **\/listfile** switch, below, the forest description is written into that file. If no file name is specified, the forest description is written to a file named DOMAINLIST.XML in the current directory from which this command is run. If the specified file already exists, it is renamed and a new file is created.|  
|\/upload|Performs the following functions:<br /><br /> Based on the new forest description that is provided in the file that is created by the **\/listfile** switch \(or the file DOMAINLIST.XML in the current directory, by default\), this operation generates an instructions file in the form of a special script that will run later on every domain controller in the forest. The instructions file is not a file that is stored on the disk.<br /><br /> Writes the autogenerated script \(instructions file\) to the **msDS\-UpdateScript** attribute of the Partitions container on the domain controller that holds the domain naming operations master role.<br /><br /> Sets the **msDS DnsRootAlias** attribute on the crossRef object that corresponds to every domain that is being renamed.<br /><br /> Writes a new state file, indicated by the **\/statefile** switch \(or the file DCLIST.XML in the current directory, by default\), to track the state of every domain controller in the forest. All domain controllers are marked to be in the Initial state. If the specified file already exists, it is renamed and a new file is created.<br /><br /> The forest configuration is frozen for certain types of operations after successful completion of this command.|  
|\/prepare|Attempts to contact every domain controller in the forest \(as tracked by the state file\), and verifies the following:<br /><br /> The correct instructions file \(the special script that is uploaded by the **\/upload** operation\) has replicated to the domain controller.<br /><br /> The changes that are dictated by the instructions file are consistent with the contents of the directory partition replicas that the domain controller holds.<br /><br /> The domain controller has authorized the running of the domain rename operation.<br /><br /> After successful verification of the previous conditions on a given domain controller, the corresponding state for that domain controller is advanced to the Prepared state in the state file.|  
|\/execute|Attempts to contact every domain controller in the forest \(as tracked by the state file\), and executes the changes that the instructions file dictates to cause the actual domain rename to occur.<br /><br /> After successful execution of the instructions file on a given domain controller, the corresponding state in the state file for that domain controller is advanced to Done—a final state that indicates that the restructuring is finished on that domain controller. If an irrecoverable error occurs on a given domain controller, the corresponding state in the state file for that domain controller is set to Error—also a final state, that indicates that the domain controller is not functioning and that it must have Active Directory removed. \(That is, it can no longer be used as a domain controller.\)<br /><br /> The state file that this operation uses is the state file that is specified by the **\/statefile** switch \(or the file DCLIST.XML in the current directory, by default\).|  
|\/end|Attempts to contact the domain controller that holds the domain naming operations master role of the forest, and removes the **msDS\-UpdateScript** attribute on the Partitions container.<br /><br /> After successful removal of this attribute on the domain naming master, this operation returns a SUCCESS summary status message. The forest configuration, which was frozen for certain types of operations that follow the **\/upload** operation, is now unfrozen.|  
|\/clean|Attempts to contact the domain controllers that holds the domain naming operations master role of the forest, and performs the following functions:<br /><br /> Removes all values of the **msDS\-DnsRootAlias** attribute on all crossRef objects in the Partitions container.<br /><br /> Removes the **msDS\-UpdateScript** attribute on the Partitions container.<br /><br /> After successful removal of these attributes on the domain naming master, this operation returns a SUCCESS summary status message.|  
|\/showforest|Requests that the forest description, which is represented by the list of its directory partitions and their hierarchy\), that is contained in the list file be displayed in a user\-friendly format with indentation that reflects the domain hierarchy. The list file will typically have been generated by the **\/list** operation of this command.<br /><br /> If a file name is specified with the **\/listfile** switch, below, the forest description is read from that file. If no file name is specified, the forest description is assumed to be in a file named DOMAINLIST.XML in the current directory from which this command is being run. If the specified file \(or the default file\) does not exist, an error is reported with an indication to run the **\/list** operation first.|  
|\/listfile:LISTFILE|Optional. Specifies that **LISTFILE** is the name of the file that holds the forest description. The list file contains a list of the directory partitions in the forest that is written as text in an XML format. You can use this switch to specify the output file for the **\/list** operation or the input file for the **\/upload** operation.<br /><br /> If this switch is not specified, the forest description is assumed to be in a file named DOMAINLIST.XML in the current directory from which this command is being run.|  
|\/statefile:STATEFILE|Optional. Specifies that **STATEFILE** is the name of the file that is used to track the state of each domain controller in the forest during the domain rename operation. The state file contains a list of all the domain controllers in the forest and their corresponding states that is written as text in an XML format. You can use this switch to specify the state file for the **\/upload**, **\/prepare**, and **\/execute** operations.<br /><br /> If this switch is not specified, the state of the domain controllers is assumed to be in a file that is named DCLIST.XML in the current directory from which this command is being run.|  
|\/logfile:LOGFILE|Optional. Specifies that **LOGFILE** is the name of the file that is used to write the execution log of the command as any operation runs. The contents of the log file varies, depending on which operation \(**\/list**, **\/upload**, **\/prepare**, **\/execute**, **\/clean**\) is running.<br /><br /> If this switch is not specified, the execution log is written to a file named RENDOM.LOG in the current directory from which this command is being run.|  
  
  
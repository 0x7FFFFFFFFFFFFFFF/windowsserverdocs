---
title: Updates for Active Directory Federation Services (AD FS)
ms.custom: 
  - AD
ms.prod: windows-server-2012
ms.reviewer: na
ms.suite: na
ms.technology: 
  - techgroup-identity
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 41a67058-237e-44c5-931c-2b0ce7718130
---
# Updates for Active Directory Federation Services (AD FS)

## Updates for Active Directory Federation Services (AD FS)
Updates have been released for Active Directory Federation Services (AD FS) 2.0, AD FS in Windows Server 2012 and AD FS in Windows Server 2012 R2. This following table captures those updates that are available for download.

### Updates for AD FS 2.0
The following are a list of updates that have been released for AD FS 2.0

|||||
|-|-|-|-|
|**KB #**|**Description**|**Download Link**|**Date Released**|
|[2790338](http://support.microsoft.com/kb/2790338)|Description of Update Rollup 3 for Active Directory Federation Services (AD FS) 2.0|[http://support.microsoft.com/kb/2790338](http://support.microsoft.com/kb/2790338)|March, 2013|
|[2843638](http://support.microsoft.com/kb/2843638)|MS13-066: Description of the security update for Active Directory Federation Services 2.0: August 13, 2013|[http://support.microsoft.com/kb/2843638](http://support.microsoft.com/kb/2843638)|August 13, 2013|
|[2861090](http://support.microsoft.com/kb/2861090)|A comma in the subject name of an encryption certificate causes an exception in Windows Server 2008 R2 SP1|[http://support.microsoft.com/kb/2861090](http://support.microsoft.com/kb/2861090)|August 13, 2013|
|[2873168](http://support.microsoft.com/kb/2873168)|FIX: An error occurs when you use a third-party CSP and HSM and then configure a claims provider trust in Update Rollup 3 for AD FS 2.0 on Windows Server 2008 R2 Service Pack 1|[http://support.microsoft.com/kb/2873168](http://support.microsoft.com/kb/2873168)|September 3, 2013|
|[2896713](http://support.microsoft.com/kb/2896713) or [2989956](http://support.microsoft.com/kb/2989956)|Update is available to fix several issues after you install security update 2843638 on an AD FS server|[http://support.microsoft.com/kb/2896713](http://support.microsoft.com/kb/2896713)<br /><br />or<br /><br />[http://support.microsoft.com/kb/2989956](http://support.microsoft.com/kb/2989956)|November 13, 2013<br /><br />September 9, 2014|
|[3003381](https://support.microsoft.com/en-us/kb/3003381)|MS14-077: Vulnerability in Active Directory Federation Services could allow information disclosure: April 14, 2015|[3003381](https://support.microsoft.com/en-us/kb/3003381)|November 2014|
|[3062577](https://support.microsoft.com/en-us/kb/3062577)|MS15-062: Vulnerability in Active Directory federation services could allow elevation of privilege|[3062577](https://support.microsoft.com/en-us/kb/3062577)|June 9, 2015|

### Updates for AD FS 2.1
The following are a list of updates that have been released for AD FS 2.1.

|||||
|-|-|-|-|
|**KB #**|**Description**|**Download Link**|**Date Released**|
|[2843639](http://support.microsoft.com/kb/2843639)|[Security] Vulnerability in Active Directory Federation Services Could Allow Information Disclosure|[http://support.microsoft.com/kb/2843639](http://support.microsoft.com/kb/2843639)|November 20, 2013|
|[2896713](http://support.microsoft.com/kb/2896713)<br /><br />or [2989956](http://support.microsoft.com/kb/2989956)|Update is available to fix several issues after you install security update 2843638 on an AD FS server|[http://support.microsoft.com/kb/2896713](http://support.microsoft.com/kb/2896713)<br /><br />or<br /><br />[http://support.microsoft.com/kb/2989956](http://support.microsoft.com/kb/2989956)|November 13, 2013<br /><br />September 9, 2014|
|[2957619](http://support.microsoft.com/kb/2957619)|The relying party trust in AD FS is stopped when a request is made to AD FS for a delegated token|[http://support.microsoft.com/kb/2957619](http://support.microsoft.com/kb/2957619)|May 21, 2014|
|[2877424](http://support.microsoft.com/kb/2877424)|Update enables you to use one certificate for multiple Relying Party Trusts in an AD FS 2.1 farm|[http://support.microsoft.com/kb/2877424](http://support.microsoft.com/kb/2877424)|October 25, 2013|
|[2827748](http://support.microsoft.com/kb/2827748)|Federationmetadata.xml file does not contain the MEX endpoint information for the WS-Trust and WS-Federation endpoints in Windows Server 2012|[http://support.microsoft.com/kb/2827748](http://support.microsoft.com/kb/2827748)|May 15, 2013|
|[2926658](http://support.microsoft.com/kb/2926658)|ADFS SQL farm deployment fails if you do not have SQL permissions|[http://support.microsoft.com/kb/2926658](http://support.microsoft.com/kb/2926658)|October 24, 2014|
|[2987843](http://support.microsoft.com/kb/2987843)|Memory usage of AD FS federation server keeps increasing when many users log on a web application in Windows Server 2012|[http://support.microsoft.com/kb/2987843](http://support.microsoft.com/kb/2987843)||
|[3003381](https://support.microsoft.com/en-us/kb/3003381)|MS14-077: Vulnerability in Active Directory Federation Services could allow information disclosure: April 14, 2015|[3003381](https://support.microsoft.com/en-us/kb/3003381)|November 2014|
|[3062577](https://support.microsoft.com/en-us/kb/3062577)|MS15-062: Vulnerability in Active Directory federation services could allow elevation of privilege|[3062577](https://support.microsoft.com/en-us/kb/3062577)|June 9, 2015|

### Updates for AD FS in Windows Server 2012 R2
Updates have been released for Active Directory Federation Services (AD FS) in Windows Server 2012 R2. There are update rollup releases as well as individual hotfix releases. The following provides a timeline view on those releases and the issues that have been fixed.

### Current hotfixes available since the last update rollup release
**AD FS**

-   [3045711](https://support.microsoft.com/en-us/kb/3045711) MS15-040: Vulnerability in Active Directory Federation Services could allow information disclosure

-   [3035025](https://support.microsoft.com/en-us/kb/3035025) Hotfix for update password feature so that users are not required to use registered device in Windows Server 2012 R2

-   [3033917](https://support.microsoft.com/en-us/kb/3033917) AD FS cannot process SAML response in Windows Server 2012 R2

-   [3018886](https://support.microsoft.com/en-us/kb/3018886) You are prompted for a username and password two times when you access Windows Server 2012 R2 AD FS server from intranet

-   [3025078](https://support.microsoft.com/en-us/kb/3025078) You are not prompted for username again when you use an incorrect username to log on to Windows Server 2012 R2

-   [3020773](https://support.microsoft.com/en-us/kb/3020773) Time-out failures after initial deployment of Device Registration service in Windows Server 2012 R2

-   [3052122](https://support.microsoft.com/en-us/kb/3052122) Update adds support for compound ID claims in AD FS tokens in Windows Server 2012 R2

**WAP**

-   [3042127](https://support.microsoft.com/en-us/kb/3042127) "HTTP 400 - Bad Request" error when you open a shared mailbox through WAP in Windows Server 2012 R2

-   [3042121](https://support.microsoft.com/en-us/kb/3042121) AD FS token replay protection for Web Application Proxy authentication tokens in Windows Server 2012 R2

-   [3020813](https://support.microsoft.com/en-us/kb/3020813) You are prompted for authentication when you run a web application in Windows Server 2012 R2 AD FS

-   [3025080](https://support.microsoft.com/en-us/kb/3025080) Operation fails when you try to save an Office file through Web Application Proxy in Windows Server 2012 R2

### December, 2014
December 2014 update rollup for Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 h[ttps://support.microsoft.com/en-us/kb/3013769](ttps://support.microsoft.com/en-us/kb/3013769). Include:

> [!NOTE]
> December update is NOT cumulative and only contains fixes in the month of December.

-   [3009351](https://support.microsoft.com/en-us/kb/3009351) "AD FS Proxy could not be configured" error in WAP post-installation configuration wizard in Windows Server 2012 R2

-   [3008990](https://support.microsoft.com/en-us/kb/3008990) Update to let you log off successfully from AD FS 3.0 server in Windows Server 2012 R2

-   [3011137](https://support.microsoft.com/en-us/kb/3011137) SSO error occurs upon your first visit to websites through ADFS 3.0 that is enabled in Windows Server 2012 R2

-   [3011135](https://support.microsoft.com/en-us/kb/3011135) Large URI request in Web Application Proxy fails in Windows Server 2012 R2

### November, 2014
November 2014 update rollup for Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 [https://support.microsoft.com/en-us/kb/3000850](https://support.microsoft.com/en-us/kb/3000850). Include:

> [!WARNING]
> This update is a cumulative update that includes updates that were released after April 2014.

-   [300004496](https://support.microsoft.com/en-us/kb/3004496) Authentication fails when you try to sign in to an application on a Windows Server 2012 R2-based AD FS instance

-   [2982037](https://support.microsoft.com/en-us/kb/2982037) Update to enable or disable the HttpOnly feature for a WAP or an application in Windows Server

-   [2998082](https://support.microsoft.com/en-us/kb/2998082) gMSA-based services can't log on after a password change in a Windows Server 2012 R2 domain

MS14-077: Vulnerability in Active Directory Federation Services could allow information disclosure: November 11, 2014 [https://support.microsoft.com/en-us/kb/3003381](https://support.microsoft.com/en-us/kb/3003381)

### August, 2014
August 2014 update rollup for Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 [https://support.microsoft.com/en-us/kb/2975719](https://support.microsoft.com/en-us/kb/2975719). Include:

> [!WARNING]
> This update is a cumulative update that includes updates that were released after April 2014.

-   [2976996](https://support.microsoft.com/en-us/kb/2976996) Expired certificates cannot be removed when automatic certificate rollover is disabled in Windows Server 2012 R2

-   [2975066](https://support.microsoft.com/en-us/kb/2975066) You cannot sign in to a web application when you use certificate authentication method in Windows Server 2012 R2

-   [2971171](https://support.microsoft.com/en-us/kb/2971171) ADFS authentication issue for Active Directory users when extranet lockout is enabled

-   [2978096](https://support.microsoft.com/en-us/kb/2978096) ExtendedProtectionTokenCheck setting keeps being disabled in AD FS 3.0 in Windows Server 2012 R2

-   [2975719](https://support.microsoft.com/en-us/kb/2975719)You are prompted to re-enter credentials frequently when using Work Folders by using ADFS authentication in Windows 8.1

-   [2980756](https://support.microsoft.com/en-us/kb/2980756) You cannot log on to an AD FS server when you use an alternative UPN suffix account in Windows Server 2012 R2

-   [2975070](https://support.microsoft.com/en-us/kb/2975070) AD FS cannot start on a non-English language-based server in Windows Server 2012 R2 or Windows Server 2008 R2

-   [2975067](https://support.microsoft.com/en-us/kb/2975067) Update to support the SAML sender-vouches token in STS on a Windows Server 2012 R2-based AD FS server

-   [2958298](https://support.microsoft.com/en-us/kb/2958298) Single Sign-On is available for Office 365 users to access SharePoint Online sites in Windows 2012 R2

-   [2975080](https://support.microsoft.com/en-us/kb/2975080) Blank browser window when RMS client sends WIF request to a Windows Server 2012 R2-based AD FS server

-   [2978100](https://support.microsoft.com/en-us/kb/2978100) URL of a web application is broken when you access the web application by using WAP in Windows Server 2012 R2

-   [2982037](https://support.microsoft.com/en-us/kb/2982037) Update to enable or disable the HttpOnly feature for a WAP or an application in Windows Server 2012 R2

### July, 2014
Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 update rollup: July 2014 [http://support.microsoft.com/kb/2967917](http://support.microsoft.com/kb/2967917). Include:

-   [2970746](https://support.microsoft.com/en-us/kb/2970746) "Profile Installation Failed" error when iOS device is workplace-joined by using DRS on a Windows Server 2012 R2-based server

### June, 2014
Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 update rollup: June 2014 [http://support.microsoft.com/kb/2962409](http://support.microsoft.com/kb/2962409). Include:

-   [2964732](https://support.microsoft.com/en-us/kb/2964732) STS passive sign-in fails when a sign-in request is sent to a Windows Server 2012 R2-based STS server through STS proxy

-   [2964733](https://support.microsoft.com/en-us/kb/2964733) AD FS device authentication is slow or fails in Windows Server 2012 R2

-   [2964735](https://support.microsoft.com/en-us/kb/2964735) Authentication failures and event 422 when AD FS STS servers and AD FS proxy servers are in Windows Server 2012 R2

### May, 2014
Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 update rollup: May 2014 [http://support.microsoft.com/kb/2955164](http://support.microsoft.com/kb/2955164). Include:

-   [2935613](https://support.microsoft.com/en-us/kb/2935613) Authentication fails when a device is Workplace Joined by using Azure DRS

-   [2935608](https://support.microsoft.com/en-us/kb/2935608) Web Application Proxy cannot detect the updated certificate after it automatically updates on Windows Server 2012 R2

-   [2948086](https://support.microsoft.com/en-us/kb/2948086) Update that improves AD FS proxy and STS reliability in Windows Server 2012 R2 when multiple clients sign in

### April, 2014
Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 Update: April 2014 [http://support.microsoft.com/kb/2919355](http://support.microsoft.com/kb/2919355). Include:

1.  [2927690](https://support.microsoft.com/en-us/kb/2927690) Update enables an alternative logon ID in AD FS in Windows Server 2012 R2

2.  [2912220](https://support.microsoft.com/en-us/kb/2912220) You cannot access a device after performing a user certificate authentication and an external authentication in Windows Server 2012 R2

3.  [2912221](https://support.microsoft.com/en-us/kb/2912221) AD FS proxy is no longer trusted by a Windows Server 2012 R2-based AD FS server after transient network connectivity interruptions occur

4.  [2914096](https://support.microsoft.com/en-us/kb/2912221) Office 365 authentication fails when a client user is outside the corporate network in Windows Server 2012 R2

> [!WARNING]
> This is a required servicing update. All future security and non-security updates for Windows RT 8.1, Windows 8.1, and Windows Server 2012 R2 require this update to be installed.


